{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/null/Desktop/University/8th/\\u0645\\u0628\\u0627\\u062D\\u062B \\u0648\\u06CC\\u0698\\u0647/Project/Frontend/sheroganj/components/main-site/BestInviters/ScrollBar.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { makeStyles } from \"@material-ui/core\";\nimport React, { useEffect, useRef } from \"react\";\nvar useStyles = makeStyles(function (theme) {\n  return {\n    scroll_container: _defineProperty({\n      width: \"200px\",\n      height: \"10px\",\n      borderRadius: \"5px\"\n    }, theme.breakpoints.up(\"md\"), {\n      marginTop: \"30px\"\n    }),\n    scroll: {\n      width: \"98px\",\n      borderRadius: \"5px\",\n      height: \"6px\"\n    }\n  };\n});\n\nvar ScrollBar = function ScrollBar(_ref) {\n  _s();\n\n  var sliderRef = _ref.sliderRef,\n      value = _ref.value,\n      onChangeValue = _ref.onChangeValue,\n      range = _ref.range;\n  var classes = useStyles();\n  var clicked = useRef(false);\n  var currentValue = useRef(value);\n  var bar = useRef(null);\n  useEffect(function () {\n    currentValue.current = value;\n  }, [value]);\n  var step = (200 - 98) / range;\n\n  var handleStart = function handleStart() {\n    console.log(\"start\");\n\n    var handleEnd = function handleEnd() {\n      console.log(\"end\");\n      clicked.current = false;\n    };\n\n    clicked.current = true;\n    window.addEventListener(\"mouseup\", handleEnd, {\n      once: true\n    });\n    window.addEventListener(\"touchend\", handleEnd, {\n      once: true\n    });\n  };\n\n  useEffect(function () {\n    var getHandlePositionFromMousePosition = function getHandlePositionFromMousePosition(mousePosition) {\n      var _bar$current;\n\n      return Math.min(Math.max(Math.floor((((_bar$current = bar.current) === null || _bar$current === void 0 ? void 0 : _bar$current.getBoundingClientRect().left) + 200 - mousePosition) / step), 0), range);\n    };\n\n    var handleMouseEventListener = function handleMouseEventListener(e) {\n      var clientX = e.type === \"touchmove\" ? e.touches[0].clientX : e.clientX;\n\n      if (clicked.current) {\n        var newPosition = getHandlePositionFromMousePosition(clientX);\n        onChangeValue(newPosition);\n\n        if (currentValue.current !== newPosition) {\n          var _sliderRef$current;\n\n          (_sliderRef$current = sliderRef.current) === null || _sliderRef$current === void 0 ? void 0 : _sliderRef$current.slickGoTo(newPosition);\n        }\n      }\n    };\n\n    document.addEventListener(\"touchmove\", handleMouseEventListener);\n    document.addEventListener(\"mousemove\", handleMouseEventListener);\n    return function () {\n      document.removeEventListener(\"mousemove\", handleMouseEventListener);\n    };\n  }, [sliderRef, onChangeValue, range, step]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: bar,\n    className: \"\".concat(classes.scroll_container, \" \\n      bg-white  relative mx-auto\"),\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        transition: \"transform 0.1s\",\n        transform: \"translate( -\".concat(value * step, \"px, -50%)\")\n      },\n      onPointerDown: handleStart,\n      className: \"\".concat(classes.scroll, \" absolute bg-primary-main top-1/2  \")\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(ScrollBar, \"Syu9B5yO6v1lheUSLtVM2fcSG10=\", false, function () {\n  return [useStyles];\n});\n\n_c = ScrollBar;\nexport default ScrollBar;\n\nvar _c;\n\n$RefreshReg$(_c, \"ScrollBar\");","map":{"version":3,"sources":["/home/null/Desktop/University/8th/مباحث ویژه/Project/Frontend/sheroganj/components/main-site/BestInviters/ScrollBar.tsx"],"names":["makeStyles","React","useEffect","useRef","useStyles","theme","scroll_container","width","height","borderRadius","breakpoints","up","marginTop","scroll","ScrollBar","sliderRef","value","onChangeValue","range","classes","clicked","currentValue","bar","current","step","handleStart","console","log","handleEnd","window","addEventListener","once","getHandlePositionFromMousePosition","mousePosition","Math","min","max","floor","getBoundingClientRect","left","handleMouseEventListener","e","clientX","type","touches","newPosition","slickGoTo","document","removeEventListener","transition","transform"],"mappings":";;;;;;;AAAA,SAAQA,UAAR,QAAgC,mBAAhC;AACA,OAAOC,KAAP,IAAeC,SAAf,EAA0BC,MAA1B,QAAuC,OAAvC;AAGA,IAAMC,SAAS,GAAGJ,UAAU,CAAC,UAACK,KAAD;AAAA,SAAmB;AAC9CC,IAAAA,gBAAgB;AACdC,MAAAA,KAAK,EAAE,OADO;AAEdC,MAAAA,MAAM,EAAE,MAFM;AAGdC,MAAAA,YAAY,EAAE;AAHA,OAIbJ,KAAK,CAACK,WAAN,CAAkBC,EAAlB,CAAqB,IAArB,CAJa,EAIgB;AAC5BC,MAAAA,SAAS,EAAE;AADiB,KAJhB,CAD8B;AAS9CC,IAAAA,MAAM,EAAE;AACNN,MAAAA,KAAK,EAAE,MADD;AAENE,MAAAA,YAAY,EAAE,KAFR;AAGND,MAAAA,MAAM,EAAE;AAHF;AATsC,GAAnB;AAAA,CAAD,CAA5B;;AAsBA,IAAMM,SAAoC,GAAG,SAAvCA,SAAuC,OAA8C;AAAA;;AAAA,MAA5CC,SAA4C,QAA5CA,SAA4C;AAAA,MAAjCC,KAAiC,QAAjCA,KAAiC;AAAA,MAA1BC,aAA0B,QAA1BA,aAA0B;AAAA,MAAXC,KAAW,QAAXA,KAAW;AACzF,MAAMC,OAAO,GAAGf,SAAS,EAAzB;AACA,MAAMgB,OAAO,GAAGjB,MAAM,CAAC,KAAD,CAAtB;AACA,MAAMkB,YAAY,GAAGlB,MAAM,CAACa,KAAD,CAA3B;AACA,MAAMM,GAAG,GAAGnB,MAAM,CAAiB,IAAjB,CAAlB;AACAD,EAAAA,SAAS,CAAC,YAAM;AACdmB,IAAAA,YAAY,CAACE,OAAb,GAAuBP,KAAvB;AACD,GAFQ,EAEN,CAACA,KAAD,CAFM,CAAT;AAGA,MAAMQ,IAAI,GAAG,CAAC,MAAM,EAAP,IAAaN,KAA1B;;AACA,MAAMO,WAAW,GAAG,SAAdA,WAAc,GAAM;AACxBC,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;;AACA,QAAMC,SAAS,GAAG,SAAZA,SAAY,GAAM;AACtBF,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;AACAP,MAAAA,OAAO,CAACG,OAAR,GAAkB,KAAlB;AACD,KAHD;;AAIAH,IAAAA,OAAO,CAACG,OAAR,GAAkB,IAAlB;AACAM,IAAAA,MAAM,CAACC,gBAAP,CAAwB,SAAxB,EAAmCF,SAAnC,EAA8C;AAACG,MAAAA,IAAI,EAAE;AAAP,KAA9C;AACAF,IAAAA,MAAM,CAACC,gBAAP,CAAwB,UAAxB,EAAoCF,SAApC,EAA+C;AAACG,MAAAA,IAAI,EAAE;AAAP,KAA/C;AACD,GATD;;AAUA7B,EAAAA,SAAS,CAAC,YAAM;AACd,QAAM8B,kCAAkC,GAAG,SAArCA,kCAAqC,CAACC,aAAD,EAA2B;AAAA;;AACpE,aAAOC,IAAI,CAACC,GAAL,CACLD,IAAI,CAACE,GAAL,CAASF,IAAI,CAACG,KAAL,CAAW,CAAC,iBAAAf,GAAG,CAACC,OAAJ,8DAAae,qBAAb,GAAqCC,IAArC,IAA6C,GAA7C,GAAmDN,aAApD,IAAqET,IAAhF,CAAT,EAAgG,CAAhG,CADK,EAELN,KAFK,CAAP;AAID,KALD;;AAMA,QAAMsB,wBAAwB,GAAG,SAA3BA,wBAA2B,CAACC,CAAD,EAAgC;AAC/D,UAAMC,OAAO,GAAGD,CAAC,CAACE,IAAF,KAAW,WAAX,GAA0BF,CAAD,CAAkBG,OAAlB,CAA0B,CAA1B,EAA6BF,OAAtD,GAAiED,CAAD,CAAkBC,OAAlG;;AACA,UAAItB,OAAO,CAACG,OAAZ,EAAqB;AACnB,YAAMsB,WAAW,GAAGb,kCAAkC,CAACU,OAAD,CAAtD;AACAzB,QAAAA,aAAa,CAAC4B,WAAD,CAAb;;AACA,YAAIxB,YAAY,CAACE,OAAb,KAAyBsB,WAA7B,EAA0C;AAAA;;AACxC,gCAAA9B,SAAS,CAACQ,OAAV,0EAAmBuB,SAAnB,CAA6BD,WAA7B;AACD;AACF;AACF,KATD;;AAWAE,IAAAA,QAAQ,CAACjB,gBAAT,CAA0B,WAA1B,EAAuCU,wBAAvC;AACAO,IAAAA,QAAQ,CAACjB,gBAAT,CAA0B,WAA1B,EAAuCU,wBAAvC;AACA,WAAO,YAAM;AACXO,MAAAA,QAAQ,CAACC,mBAAT,CAA6B,WAA7B,EAA0CR,wBAA1C;AACD,KAFD;AAGD,GAvBQ,EAuBN,CAACzB,SAAD,EAAYE,aAAZ,EAA2BC,KAA3B,EAAkCM,IAAlC,CAvBM,CAAT;AAyBA,sBACE;AACE,IAAA,GAAG,EAAEF,GADP;AAEE,IAAA,SAAS,YAAKH,OAAO,CAACb,gBAAb,wCAFX;AAAA,2BAKE;AACE,MAAA,KAAK,EAAE;AACL2C,QAAAA,UAAU,EAAE,gBADP;AAELC,QAAAA,SAAS,wBAAiBlC,KAAK,GAAGQ,IAAzB;AAFJ,OADT;AAKE,MAAA,aAAa,EAAEC,WALjB;AAME,MAAA,SAAS,YAAKN,OAAO,CAACN,MAAb;AANX;AAAA;AAAA;AAAA;AAAA;AALF;AAAA;AAAA;AAAA;AAAA,WADF;AAgBD,CA5DD;;GAAMC,S;UACYV,S;;;KADZU,S;AA8DN,eAAeA,SAAf","sourcesContent":["import {makeStyles, Theme} from \"@material-ui/core\";\nimport React, {useEffect, useRef} from \"react\";\nimport Slider from \"react-slick\";\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  scroll_container: {\n    width: \"200px\",\n    height: \"10px\",\n    borderRadius: \"5px\",\n    [theme.breakpoints.up(\"md\")]: {\n      marginTop: \"30px\",\n    },\n  },\n  scroll: {\n    width: \"98px\",\n    borderRadius: \"5px\",\n    height: \"6px\",\n  },\n}));\ninterface IScrollBarProps {\n  sliderRef: React.RefObject<Slider>;\n  value: number;\n  onChangeValue: (newValue: number) => void;\n  range: number;\n}\n\nconst ScrollBar: React.FC<IScrollBarProps> = ({sliderRef, value, onChangeValue, range}) => {\n  const classes = useStyles();\n  const clicked = useRef(false);\n  const currentValue = useRef(value);\n  const bar = useRef<HTMLDivElement>(null);\n  useEffect(() => {\n    currentValue.current = value;\n  }, [value]);\n  const step = (200 - 98) / range;\n  const handleStart = () => {\n    console.log(\"start\");\n    const handleEnd = () => {\n      console.log(\"end\");\n      clicked.current = false;\n    };\n    clicked.current = true;\n    window.addEventListener(\"mouseup\", handleEnd, {once: true});\n    window.addEventListener(\"touchend\", handleEnd, {once: true});\n  };\n  useEffect(() => {\n    const getHandlePositionFromMousePosition = (mousePosition: number) => {\n      return Math.min(\n        Math.max(Math.floor((bar.current?.getBoundingClientRect().left! + 200 - mousePosition) / step), 0),\n        range\n      );\n    };\n    const handleMouseEventListener = (e: MouseEvent | TouchEvent) => {\n      const clientX = e.type === \"touchmove\" ? (e as TouchEvent).touches[0].clientX : (e as MouseEvent).clientX;\n      if (clicked.current) {\n        const newPosition = getHandlePositionFromMousePosition(clientX);\n        onChangeValue(newPosition);\n        if (currentValue.current !== newPosition) {\n          sliderRef.current?.slickGoTo(newPosition);\n        }\n      }\n    };\n\n    document.addEventListener(\"touchmove\", handleMouseEventListener);\n    document.addEventListener(\"mousemove\", handleMouseEventListener);\n    return () => {\n      document.removeEventListener(\"mousemove\", handleMouseEventListener);\n    };\n  }, [sliderRef, onChangeValue, range, step]);\n\n  return (\n    <div\n      ref={bar}\n      className={`${classes.scroll_container} \n      bg-white  relative mx-auto`}\n    >\n      <div\n        style={{\n          transition: \"transform 0.1s\",\n          transform: `translate( -${value * step}px, -50%)`,\n        }}\n        onPointerDown={handleStart}\n        className={`${classes.scroll} absolute bg-primary-main top-1/2  `}\n      />\n    </div>\n  );\n};\n\nexport default ScrollBar;\n"]},"metadata":{},"sourceType":"module"}